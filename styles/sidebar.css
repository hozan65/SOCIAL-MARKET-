/* /styles/sidebar.css */
:root{
    --sb-bg1: #10022e;
    --sb-bg2: #1f0859;
    --sb-edge: rgb(255, 255, 255);

    --sb-text:rgba(255,255,255,.92);
    --sb-muted:rgba(255,255,255,.58);

    --sb-hover:rgba(255,255,255,.06);
    --sb-active:rgba(255,255,255,.10);

    --menu-bg:#141120;

    --w-close:84px;
    --w-open:268px;
    --content-gap:18px;
}

/* Sidebar base */
.smSidebar{
    position:fixed;
    inset:0 auto 0 0;
    width: var(--w-close);
    background: linear-gradient(180deg, var(--sb-bg1), var(--sb-bg2));
    border-right: 1px solid var(--sb-edge);
    padding: 14px 12px;
    display:flex;
    flex-direction:column;
    gap:10px;
    z-index: 10020; /* ✅ daha sağlam */
    overflow:hidden;
    transition: width .16s ease, transform .16s ease;
}

/* ✅ PIN açık */
.smSidebar.isPinned{ width: var(--w-open); }

/* ✅ Desktop hover */
@media (min-width: 901px){
    .smSidebar:not(.isPinned):hover{ width: var(--w-open); }
}

/* text visibility */
.smSbBrandText,.smSbText,.smSbMeta,.smSbCaret{
    opacity:0;
    width:0;
    overflow:hidden;
    transition: opacity .12s ease, width .12s ease;
}

/* show on open state */
@media (min-width: 901px){
    .smSidebar.isPinned .smSbBrandText,
    .smSidebar.isPinned .smSbText,
    .smSidebar.isPinned .smSbMeta,
    .smSidebar.isPinned .smSbCaret,
    .smSidebar:not(.isPinned):hover .smSbBrandText,
    .smSidebar:not(.isPinned):hover .smSbText,
    .smSidebar:not(.isPinned):hover .smSbMeta,
    .smSidebar:not(.isPinned):hover .smSbCaret{
        opacity:1;
        width:auto;
    }
}

/* TOP */
.smSbTop{ display:flex; align-items:center; gap:10px; padding: 6px 4px 12px; }

.smSbBrand{
    display:flex; align-items:center; gap:10px;
    text-decoration:none;
    color: var(--sb-text);
    flex:1; min-width:0;
}

.smSbLogo{
    width:38px;height:38px;border-radius:12px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.06);
    display:grid; place-items:center;
    font-weight:900;
}

/* NAV */
.smSbNav{ display:flex; flex-direction:column; gap:6px; padding:0 2px; }

.smSbItem{
    display:flex; align-items:center; gap:12px;
    padding: 11px 12px;
    border-radius: 14px;
    color: var(--sb-text);
    text-decoration:none;
    border:1px solid transparent;
    user-select:none;
}

.smSbItem i{
    width:22px;
    text-align:center;
    font-size:15px;
    color: var(--sb-muted);
}

.smSbItem:hover{
    background: var(--sb-hover);
    border-color: rgba(255,255,255,.06);
}

.smSbItem.active{
    background: var(--sb-active);
    border-color: rgba(255,255,255,.10);
}
.smSbItem.active i{ color: rgba(255,255,255,.92); }

/* BOTTOM */
.smSbBottom{
    margin-top:auto;
    padding: 10px 2px 2px;
    position:relative;
    display:flex;
    flex-direction:column;
    gap:10px;
}

/* PIN row */
.smSbPinRow{
    width:100%;
    display:flex; align-items:center; gap:12px;
    padding: 11px 12px;
    border-radius: 14px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.04);
    color: var(--sb-text);
    cursor:pointer;
}
.smSbPinRow i{ width:22px; text-align:center; color: var(--sb-muted); }
.smSbPinRow:hover{ background: rgba(255,255,255,.06); }
.smSidebar.isPinned .smSbPinRow{
    background: rgba(255,255,255,.10);
    border-color: rgba(255,255,255,.18);
}
.smSidebar.isPinned .smSbPinRow i{ color: rgba(255,255,255,.92); }

/* PROFILE button */
.smSbProfile{
    width:100%;
    display:flex; align-items:center; gap:10px;
    padding: 10px 10px;
    border-radius: 16px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.04);
    color: var(--sb-text);
    cursor:pointer;
}
.smSbProfile:hover{ background: rgba(255,255,255,.06); }

.smSbAvatar{
    width:36px;height:36px;border-radius:999px;
    display:grid;place-items:center;
    background: rgba(255,255,255,.10);
    border: 1px solid rgba(255,255,255,.10);
    font-weight:900;
}
.smSidebar:not(.isPinned) .smSbAvatar{ width:34px;height:34px; }

.smSbName{ font-weight:900; font-size:14px; line-height:1.1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.smSbMail{ margin-top:3px; font-size:12px; color: var(--sb-muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Dropdown */
.smSbMenu{
    position:absolute;
    left: 6px;
    right: 6px;
    bottom: 126px;
    background: linear-gradient(180deg, #301280, var(--menu-bg));
    border:1px solid rgba(255,255,255,.12);
    border-radius:16px;
    padding:10px;
    display:none;
    z-index: 10040;
}
.smSbMenu.open{ display:block; }

.smSbMenuItem{
    margin-top:6px;
    display:flex; align-items:center; gap:10px;
    padding:10px 10px;
    border-radius:12px;
    color: var(--sb-text);
    text-decoration:none;
    border:1px solid transparent;
}
.smSbMenuItem i{ width:18px; text-align:center; color: var(--sb-muted); }
.smSbMenuItem:hover{ background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.06); }

.smSbMenuDiv{ height:1px; background: rgba(255,255,255,.10); margin: 10px 4px; }
.smSbMenuBtn{ width:100%; background:transparent; cursor:pointer; }

/* Desktop içerik boşluğu */
@media (min-width: 901px){
    body.hasSidebar main.container{
        margin-left: calc(var(--w-open) + var(--content-gap)) !important;
    }
}

/* MOBILE drawer overlay */
.smSbBackdrop{
    position:fixed; inset:0;
    background: rgba(0,0,0,.45);
    display:none;
    z-index: 10010;
}
.smSbBackdrop.open{ display:block; }

/* ✅ CLOSE (X) artık sidebar'ın içinde ABSOLUTE (geç gelmez, sabit durur) */
.smSbClose{
    position:absolute;
    top:12px;
    right:12px;
    width:40px;height:40px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(12,10,18,.70);
    color: rgba(255,255,255,.92);
    cursor:pointer;
    display:none;
    z-index: 10050;
}

/* hamburger sağ üst */
.smSbMobileHamb{
    position:fixed;
    top:14px;
    right:14px;
    width:44px; height:44px;
    border-radius:12px;
    border:1px solid rgba(0,0,0,.10);
    background: rgba(255,255,255,.88);
    cursor:pointer;
    display:none;
    z-index: 10030;
}

/* ✅ Sidebar açıkken hamburger gizle (üst üste binme biter) */
body.smSbOpen .smSbMobileHamb{
    display:none !important;
}

@media (max-width: 900px){
    body.hasSidebar main.container{ margin-left: 0 !important; }

    .smSidebar{
        width: var(--w-open);
        transform: translateX(-100%);
    }
    .smSidebar.mobileOpen{ transform: translateX(0); }

    .smSidebar.mobileOpen .smSbBrandText,
    .smSidebar.mobileOpen .smSbText,
    .smSidebar.mobileOpen .smSbMeta,
    .smSidebar.mobileOpen .smSbCaret{
        opacity:1;
        width:auto;
    }

    .smSbMobileHamb{ display:block; }

    /* ✅ X sadece drawer açıkken görünsün */
    .smSidebar.mobileOpen .smSbClose{ display:block; }
}

