<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Social Market • Marketplace</title>
  <link rel="stylesheet" href="./marketplace.css" />
</head>
<body>

<!-- TOPBAR -->
<header class="mpTop">
  <div class="mpBrand">
    <div class="mpLogo">SM</div>
    <div class="mpBrandText">
      <div class="mpTitle">Social Market</div>
      <div class="mpSub">Marketplace</div>
    </div>
  </div>

  <div class="mpActions">
    <button class="mpBtn" id="mpOpenAdd">+ Add Listing</button>
    <button class="mpBtn mpBtnPrimary" id="mpOpenCart">
      Cart <span class="mpBadge" id="mpCartCount">0</span>
    </button>
  </div>
</header>

<main class="mpWrap">

  <!-- FILTERS -->
  <section class="mpFilters">
    <div class="mpSearch">
      <input id="mpSearch" type="text" placeholder="Search listings (views, likes, subscribers, premium...)" />
    </div>

    <div class="mpRow">
      <select id="mpCategory" class="mpSelect">
        <option value="all">All categories</option>
        <option value="boost">Boost</option>
        <option value="service">Service</option>
        <option value="digital">Digital</option>
        <option value="membership">Membership</option>
      </select>

      <select id="mpSort" class="mpSelect">
        <option value="new">Newest</option>
        <option value="price_asc">Price (Low → High)</option>
        <option value="price_desc">Price (High → Low)</option>
        <option value="rating_desc">Rating</option>
      </select>

      <div class="mpToggle">
        <input id="mpOnlyInStock" type="checkbox" />
        <label for="mpOnlyInStock">In stock only</label>
      </div>
    </div>
  </section>

  <!-- LIST -->
  <section class="mpGrid" id="mpGrid"></section>

  <footer class="mpFooter">
    <div>© <span id="mpYear"></span> Social Market</div>
    <div class="mpHint">Runs on LocalStorage (easy to connect to Supabase later).</div>
  </footer>

</main>

<!-- ADD LISTING MODAL -->
<div class="mpModal" id="mpAddModal" aria-hidden="true">
  <div class="mpModalCard">
    <div class="mpModalHead">
      <div class="mpModalTitle">Add Listing</div>
      <button class="mpIconBtn" id="mpCloseAdd" title="Close">✕</button>
    </div>

    <div class="mpForm">
      <div class="mpField">
        <label>Title</label>
        <input id="mpAddName" type="text" placeholder="e.g. 10K Views Boost" />
      </div>

      <div class="mpField">
        <label>Category</label>
        <select id="mpAddCategory">
          <option value="boost">Boost</option>
          <option value="service">Service</option>
          <option value="digital">Digital</option>
          <option value="membership">Membership</option>
        </select>
      </div>

      <div class="mpField">
        <label>Price (Coins)</label>
        <input id="mpAddPrice" type="number" min="0" step="1" placeholder="e.g. 250" />
      </div>

      <div class="mpField">
        <label>Stock</label>
        <input id="mpAddStock" type="number" min="0" step="1" placeholder="e.g. 10" />
      </div>

      <div class="mpField mpFieldFull">
        <label>Description</label>
        <textarea id="mpAddDesc" rows="3" placeholder="What’s included? Delivery time? Notes..."></textarea>
      </div>

      <div class="mpRowEnd">
        <button class="mpBtn" id="mpSeedDemo">Load Demo Listings</button>
        <button class="mpBtn mpBtnPrimary" id="mpAddSave">Save</button>
      </div>

      <div class="mpNote" id="mpAddNote"></div>
    </div>
  </div>
</div>

<!-- CART DRAWER -->
<div class="mpDrawer" id="mpCartDrawer" aria-hidden="true">
  <div class="mpDrawerCard">
    <div class="mpDrawerHead">
      <div class="mpDrawerTitle">Cart</div>
      <button class="mpIconBtn" id="mpCloseCart" title="Close">✕</button>
    </div>

    <div class="mpCartList" id="mpCartList"></div>

    <div class="mpCartFoot">
      <div class="mpTotalRow">
        <span>Total</span>
        <strong><span id="mpCartTotal">0</span> coins</strong>
      </div>
      <button class="mpBtn mpBtnPrimary mpBtnFull" id="mpCheckout">Checkout</button>
      <div class="mpSmall" id="mpCheckoutNote"></div>
    </div>
  </div>
</div>

<script src="./marketplace.js"></script>
</body>
</html>
